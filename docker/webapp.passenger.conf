passenger_log_file /dev/stdout;

server {
    listen 80;
    server_name www.webapp.com;
    root /home/app/webapp/public;

    access_log /dev/stdout;
    error_log /dev/stdout;

    # The following deploys your Ruby/Python/Node.js/Meteor app on Passenger.

    # Not familiar with Passenger, and used (G)Unicorn/Thin/Puma/pure Node before?
    # Yes, this is all you need to deploy on Passenger! All the reverse proxying,
    # socket setup, process management, etc are all taken care automatically for
    # you! Learn more at https://www.phusionpassenger.com/.
    passenger_enabled on;
    passenger_user app;

    passenger_ruby /usr/bin/ruby2.6;


    # Ensures that RAILS_ENV, NODE_ENV, etc are set to the environment specified here
    # when your application is started:
    # passenger_app_env staging;

    # The second way is by setting the PASSENGER_APP_ENV environment variable from docker run
    # docker run -e PASSENGER_APP_ENV=staging YOUR_IMAGE
}